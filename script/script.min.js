const hook="https://dev.oscato.com/4sfwlyf";function emailChecker(){let e=document.getElementById("email").value;if(0==e.length)return document.getElementById("email").style.borderColor="red",document.getElementById("emailError").innerHTML="Do not leave blank",!1;{let t=0,n=!1,r=0,o=0;for(i=0;i<e.length;i++){if("@"!=e.charAt(i)&&"."!=e.charAt(i)&&"-"!=e.charAt(i)&&"_"!=e.charAt(i)&&1!=/[a-zA-Z0-9]/.test(e.charAt(i)))return document.getElementById("email").style.borderColor="red",document.getElementById("emailError").innerHTML="Invalid e-mail address: Invalid characters",o++,!1;"@"==e.charAt(i)&&1==++t&&(r=i),t>0&&i>r+1&&"."==e.charAt(i)&&"."!=e.charAt(e.length-1)&&(n=!0)}return 0==t?(document.getElementById("email").style.borderColor="red",document.getElementById("emailError").innerHTML="Invalid email address: No @",o++,!1):"."==e.charAt(r+1)?(document.getElementById("email").style.borderColor="red",document.getElementById("emailError").innerHTML="Invalid email address: Missing domain",o++,!1):t>1?(document.getElementById("email").style.borderColor="red",document.getElementById("emailError").innerHTML="Invalid email address: Too many @s",o++,!1):"-"==e.charAt(0)||"_"==e.charAt(0)||0==/[a-zA-Z0-9]/.test(e.charAt(0))?(document.getElementById("email").style.borderColor="red",document.getElementById("emailError").innerHTML="Invalid email address: Invalid characters at start",o++,!1):0==/[a-zA-Z0-9]/.test(e.charAt(e.length-1))?(document.getElementById("email").style.borderColor="red",document.getElementById("emailError").innerHTML="Invalid email address: Invalid characters at end",o++,!1):0==n?(document.getElementById("email").style.borderColor="red",document.getElementById("emailError").innerHTML="Invalid email address: Missing Top Level domain",o++,!1):(document.getElementById("email").style.borderColor="#27ae60",document.getElementById("emailError").innerHTML="",!0)}}function phoneChecker(){let e=document.getElementById("phone").value,t=0;for(i=0;i<e.length;i++)0==/[0-9]/.test(e.charAt(i))&&t++;return t>0?(document.getElementById("phone").style.borderColor="red",document.getElementById("phoneError").innerHTML="Please enter only numbers",!1):(document.getElementById("phone").style.borderColor="#27ae60",document.getElementById("phoneError").innerHTML="",!0)}function blankChecker(e){0==document.getElementById(e).value.length?(document.getElementById(e).style.borderColor="red",document.getElementById(e+"Error").innerHTML="Do not leave blank"):(document.getElementById(e).style.borderColor="#27ae60",document.getElementById(e+"Error").innerHTML="")}function reqListener(){console.log(this.responseText)}email.addEventListener("focusout",emailChecker),phone.addEventListener("change",phoneChecker),contactForm.addEventListener("submit",function(){console.log("triggered");let e=phoneChecker(),t=emailChecker();if(1==e&&1==t){let e=new XMLHttpRequest,t=document.getElementById("email").value,n=document.getElementById("name").value,r="+"+document.getElementById("phoneCode").value+" "+document.getElementById("phone").value,o=document.getElementById("subject").value,l=document.getElementById("message").value;console.log(r);let d={blocks:[{type:"header",text:{type:"plain_text",text:o,emoji:!0}},{type:"context",elements:[{type:"plain_text",text:"Sender: "+n,emoji:!0},{type:"plain_text",text:"e-mail: "+t,emoji:!0},{type:"plain_text",text:"Phone: "+r,emoji:!0}]},{type:"section",text:{type:"plain_text",text:l,emoji:!0}}]};console.log(JSON.stringify(d)),e.addEventListener("load",reqListener),e.open("POST",hook,!0),e.setRequestHeader("Content-type","application/json"),e.send(JSON.stringify(d)),console.log("Sent to "+hook),e.onerror=function(){console.log("Request failed")}}else event.preventDefault()});