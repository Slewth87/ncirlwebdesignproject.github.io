const hook="https://hooks.slack.com/services/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";function emailChecker(){let e=document.getElementById("email").value,t=0,n=!1,a=0,l=0;for(i=0;i<e.length;i++){if("@"!=e.charAt(i)&&"."!=e.charAt(i)&&"-"!=e.charAt(i)&&"_"!=e.charAt(i)&&1!=/[a-zA-Z0-9]/.test(e.charAt(i)))return alert("Invalid e-mail address:\nInvalid characters"),l++,!1;"@"==e.charAt(i)&&1==++t&&(a=i),t>0&&i>a+1&&"."==e.charAt(i)&&"."!=e.charAt(e.length-1)&&(n=!0)}return 0==t?(alert("Invalid email address:\nNo @"),l++,!1):"."==e.charAt(a+1)?(alert("Invalid email address:\nMissing domain"),l++,!1):t>1?(alert("Invalid email address:\nToo many @s"),l++,!1):"-"==e.charAt(0)||"_"==e.charAt(0)||0==/[a-zA-Z0-9]/.test(e.charAt(0))?(alert("Invalid email address:\nInvalid characters at start"),l++,!1):0==/[a-zA-Z0-9]/.test(e.charAt(e.length-1))?(alert("Invalid email address:\nInvalid characters at end"),l++,!1):0==n?(alert("Invalid email address:\nMissing Top Level domain"),l++,!1):0==l||void 0}function phoneChecker(){let e=document.getElementById("phone").value,t=0;for(i=0;i<e.length;i++)0==/[0-9]/.test(e.charAt(i))&&t++;return!(t>0)||(alert("Please enter only numbers"),!1)}function reqListener(){console.log(this.responseText)}email.addEventListener("change",emailChecker),phone.addEventListener("change",phoneChecker),contactForm.addEventListener("submit",function(){console.log("triggered");let e=phoneChecker(),t=emailChecker();if(1==e&&1==t){let e=new XMLHttpRequest,t=document.getElementById("email").value,n=document.getElementById("name").value,a="+"+document.getElementById("phoneCode").value+" "+document.getElementById("phone").value,l=document.getElementById("subject").value,i=document.getElementById("message").value;console.log(a);let o={blocks:[{type:"header",text:{type:"plain_text",text:l,emoji:!0}},{type:"context",elements:[{type:"plain_text",text:"Sender: "+n,emoji:!0},{type:"plain_text",text:"e-mail: "+t,emoji:!0},{type:"plain_text",text:"Phone: "+a,emoji:!0}]},{type:"section",text:{type:"plain_text",text:i,emoji:!0}}]};console.log(JSON.stringify(o)),e.addEventListener("load",reqListener),e.open("POST",hook,!0),e.setRequestHeader("Content-type","application/json"),e.send(JSON.stringify(o)),console.log("Sent to "+hook),e.onerror=function(){console.log("Request failed")}}else event.preventDefault()});